{"version":3,"file":"crowdgoeswild.js","sources":["../node_modules/html-to-image/es/util.js","../node_modules/html-to-image/es/clone-pseudos.js","../node_modules/html-to-image/es/mimes.js","../node_modules/html-to-image/es/dataurl.js","../node_modules/html-to-image/es/clone-node.js","../node_modules/html-to-image/es/embed-resources.js","../node_modules/html-to-image/es/embed-images.js","../node_modules/html-to-image/es/apply-style.js","../node_modules/html-to-image/es/embed-webfonts.js","../node_modules/html-to-image/es/index.js","../src/ts/scripts/VibeCheckPopup.ts","../src/ts/scripts/socket.ts","../src/ts/scripts/events.ts","../src/ts/scripts/reactionsets.ts","../src/ts/scripts/settings.ts","../src/ts/scripts/ReactionEditor.ts","../src/ts/scripts/ReactionSetupMenu.ts","../src/ts/scripts/utils.ts","../src/ts/scripts/animation.ts","../src/ts/scripts/handlebars.ts","../node_modules/semver/internal/constants.js","../node_modules/semver/internal/debug.js","../node_modules/semver/internal/re.js","../node_modules/semver/internal/parse-options.js","../node_modules/semver/internal/identifiers.js","../node_modules/semver/classes/semver.js","../node_modules/semver/functions/parse.js","../node_modules/semver/functions/valid.js","../node_modules/semver/functions/clean.js","../node_modules/semver/functions/inc.js","../node_modules/semver/functions/compare.js","../node_modules/semver/functions/eq.js","../node_modules/semver/functions/diff.js","../node_modules/semver/functions/major.js","../node_modules/semver/functions/minor.js","../node_modules/semver/functions/patch.js","../node_modules/semver/functions/prerelease.js","../node_modules/semver/functions/rcompare.js","../node_modules/semver/functions/compare-loose.js","../node_modules/semver/functions/compare-build.js","../node_modules/semver/functions/sort.js","../node_modules/semver/functions/rsort.js","../node_modules/semver/functions/gt.js","../node_modules/semver/functions/lt.js","../node_modules/semver/functions/neq.js","../node_modules/semver/functions/gte.js","../node_modules/semver/functions/lte.js","../node_modules/semver/functions/cmp.js","../node_modules/semver/functions/coerce.js","../node_modules/yallist/iterator.js","../node_modules/yallist/yallist.js","../node_modules/lru-cache/index.js","../node_modules/semver/classes/range.js","../node_modules/semver/classes/comparator.js","../node_modules/semver/functions/satisfies.js","../node_modules/semver/ranges/to-comparators.js","../node_modules/semver/ranges/max-satisfying.js","../node_modules/semver/ranges/min-satisfying.js","../node_modules/semver/ranges/min-version.js","../node_modules/semver/ranges/valid.js","../node_modules/semver/ranges/outside.js","../node_modules/semver/ranges/gtr.js","../node_modules/semver/ranges/ltr.js","../node_modules/semver/ranges/intersects.js","../node_modules/semver/ranges/simplify.js","../node_modules/semver/ranges/subset.js","../node_modules/semver/index.js","../src/ts/scripts/migrations.ts","../src/ts/scripts/hooks.ts","../src/ts/scripts/crowdgoeswild.ts"],"sourcesContent":["export function resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    const doc = document.implementation.createHTMLDocument();\n    const base = doc.createElement('base');\n    const a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nexport const uuid = (() => {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    let counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    const random = () => \n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4);\n    return () => {\n        counter += 1;\n        return `u${random()}${counter}`;\n    };\n})();\nexport function delay(ms) {\n    return (args) => new Promise((resolve) => {\n        setTimeout(() => resolve(args), ms);\n    });\n}\nexport function toArray(arrayLike) {\n    const arr = [];\n    for (let i = 0, l = arrayLike.length; i < l; i++) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nfunction px(node, styleProperty) {\n    const win = node.ownerDocument.defaultView || window;\n    const val = win.getComputedStyle(node).getPropertyValue(styleProperty);\n    return val ? parseFloat(val.replace('px', '')) : 0;\n}\nfunction getNodeWidth(node) {\n    const leftBorder = px(node, 'border-left-width');\n    const rightBorder = px(node, 'border-right-width');\n    return node.clientWidth + leftBorder + rightBorder;\n}\nfunction getNodeHeight(node) {\n    const topBorder = px(node, 'border-top-width');\n    const bottomBorder = px(node, 'border-bottom-width');\n    return node.clientHeight + topBorder + bottomBorder;\n}\nexport function getImageSize(targetNode, options = {}) {\n    const width = options.width || getNodeWidth(targetNode);\n    const height = options.height || getNodeHeight(targetNode);\n    return { width, height };\n}\nexport function getPixelRatio() {\n    let ratio;\n    let FINAL_PROCESS;\n    try {\n        FINAL_PROCESS = process;\n    }\n    catch (e) {\n        // pass\n    }\n    const val = FINAL_PROCESS && FINAL_PROCESS.env\n        ? FINAL_PROCESS.env.devicePixelRatio\n        : null;\n    if (val) {\n        ratio = parseInt(val, 10);\n        if (Number.isNaN(ratio)) {\n            ratio = 1;\n        }\n    }\n    return ratio || window.devicePixelRatio || 1;\n}\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384;\nexport function checkCanvasDimensions(canvas) {\n    if (canvas.width > canvasDimensionLimit ||\n        canvas.height > canvasDimensionLimit) {\n        if (canvas.width > canvasDimensionLimit &&\n            canvas.height > canvasDimensionLimit) {\n            if (canvas.width > canvas.height) {\n                canvas.height *= canvasDimensionLimit / canvas.width;\n                canvas.width = canvasDimensionLimit;\n            }\n            else {\n                canvas.width *= canvasDimensionLimit / canvas.height;\n                canvas.height = canvasDimensionLimit;\n            }\n        }\n        else if (canvas.width > canvasDimensionLimit) {\n            canvas.height *= canvasDimensionLimit / canvas.width;\n            canvas.width = canvasDimensionLimit;\n        }\n        else {\n            canvas.width *= canvasDimensionLimit / canvas.height;\n            canvas.height = canvasDimensionLimit;\n        }\n    }\n}\nexport function canvasToBlob(canvas, options = {}) {\n    if (canvas.toBlob) {\n        return new Promise((resolve) => {\n            canvas.toBlob(resolve, options.type ? options.type : 'image/png', options.quality ? options.quality : 1);\n        });\n    }\n    return new Promise((resolve) => {\n        const binaryString = window.atob(canvas\n            .toDataURL(options.type ? options.type : undefined, options.quality ? options.quality : undefined)\n            .split(',')[1]);\n        const len = binaryString.length;\n        const binaryArray = new Uint8Array(len);\n        for (let i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: options.type ? options.type : 'image/png',\n        }));\n    });\n}\nexport function createImage(url) {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.decode = () => resolve(img);\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.crossOrigin = 'anonymous';\n        img.decoding = 'async';\n        img.src = url;\n    });\n}\nexport async function svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(() => new XMLSerializer().serializeToString(svg))\n        .then(encodeURIComponent)\n        .then((html) => `data:image/svg+xml;charset=utf-8,${html}`);\n}\nexport async function nodeToDataURL(node, width, height) {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttribute('width', `${width}`);\n    svg.setAttribute('height', `${height}`);\n    svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n    foreignObject.setAttribute('width', '100%');\n    foreignObject.setAttribute('height', '100%');\n    foreignObject.setAttribute('x', '0');\n    foreignObject.setAttribute('y', '0');\n    foreignObject.setAttribute('externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(node);\n    return svgToDataURL(svg);\n}\nexport const isInstanceOfElement = (node, instance) => {\n    if (node instanceof instance)\n        return true;\n    const nodePrototype = Object.getPrototypeOf(node);\n    if (nodePrototype === null)\n        return false;\n    return (nodePrototype.constructor.name === instance.name ||\n        isInstanceOfElement(nodePrototype, instance));\n};\n//# sourceMappingURL=util.js.map","import { uuid, toArray } from './util';\nfunction formatCSSText(style) {\n    const content = style.getPropertyValue('content');\n    return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`;\n}\nfunction formatCSSProperties(style) {\n    return toArray(style)\n        .map((name) => {\n        const value = style.getPropertyValue(name);\n        const priority = style.getPropertyPriority(name);\n        return `${name}: ${value}${priority ? ' !important' : ''};`;\n    })\n        .join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    const selector = `.${className}:${pseudo}`;\n    const cssText = style.cssText\n        ? formatCSSText(style)\n        : formatCSSProperties(style);\n    return document.createTextNode(`${selector}{${cssText}}`);\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    const style = window.getComputedStyle(nativeNode, pseudo);\n    const content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    const className = uuid();\n    try {\n        clonedNode.className = `${clonedNode.className} ${className}`;\n    }\n    catch (err) {\n        return;\n    }\n    const styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.appendChild(styleElement);\n}\nexport function clonePseudoElements(nativeNode, clonedNode) {\n    clonePseudoElement(nativeNode, clonedNode, ':before');\n    clonePseudoElement(nativeNode, clonedNode, ':after');\n}\n//# sourceMappingURL=clone-pseudos.js.map","const WOFF = 'application/font-woff';\nconst JPEG = 'image/jpeg';\nconst mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n    webp: 'image/webp',\n};\nfunction getExtension(url) {\n    const match = /\\.([^./]*?)$/g.exec(url);\n    return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n    const extension = getExtension(url).toLowerCase();\n    return mimes[extension] || '';\n}\n//# sourceMappingURL=mimes.js.map","function getContentFromDataUrl(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexport function isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexport function makeDataUrl(content, mimeType) {\n    return `data:${mimeType};base64,${content}`;\n}\nexport async function fetchAsDataURL(url, init, process) {\n    const res = await fetch(url, init);\n    if (res.status === 404) {\n        throw new Error(`Resource \"${res.url}\" not found`);\n    }\n    const blob = await res.blob();\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = () => {\n            try {\n                resolve(process({ res, result: reader.result }));\n            }\n            catch (error) {\n                reject(error);\n            }\n        };\n        reader.readAsDataURL(blob);\n    });\n}\nconst cache = {};\nfunction getCacheKey(url, contentType, includeQueryParams) {\n    let key = url.replace(/\\?.*/, '');\n    if (includeQueryParams) {\n        key = url;\n    }\n    // font resource\n    if (/ttf|otf|eot|woff2?/i.test(key)) {\n        key = key.replace(/.*\\//, '');\n    }\n    return contentType ? `[${contentType}]${key}` : key;\n}\nexport async function resourceToDataURL(resourceUrl, contentType, options) {\n    const cacheKey = getCacheKey(resourceUrl, contentType, options.includeQueryParams);\n    if (cache[cacheKey] != null) {\n        return cache[cacheKey];\n    }\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        // eslint-disable-next-line no-param-reassign\n        resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime();\n    }\n    let dataURL;\n    try {\n        const content = await fetchAsDataURL(resourceUrl, options.fetchRequestInit, ({ res, result }) => {\n            if (!contentType) {\n                // eslint-disable-next-line no-param-reassign\n                contentType = res.headers.get('Content-Type') || '';\n            }\n            return getContentFromDataUrl(result);\n        });\n        dataURL = makeDataUrl(content, contentType);\n    }\n    catch (error) {\n        dataURL = options.imagePlaceholder || '';\n        let msg = `Failed to fetch resource: ${resourceUrl}`;\n        if (error) {\n            msg = typeof error === 'string' ? error : error.message;\n        }\n        if (msg) {\n            console.warn(msg);\n        }\n    }\n    cache[cacheKey] = dataURL;\n    return dataURL;\n}\n//# sourceMappingURL=dataurl.js.map","import { clonePseudoElements } from './clone-pseudos';\nimport { createImage, toArray, isInstanceOfElement } from './util';\nimport { getMimeType } from './mimes';\nimport { resourceToDataURL } from './dataurl';\nasync function cloneCanvasElement(canvas) {\n    const dataURL = canvas.toDataURL();\n    if (dataURL === 'data:,') {\n        return canvas.cloneNode(false);\n    }\n    return createImage(dataURL);\n}\nasync function cloneVideoElement(video, options) {\n    if (video.currentSrc) {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = video.clientWidth;\n        canvas.height = video.clientHeight;\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n        const dataURL = canvas.toDataURL();\n        return createImage(dataURL);\n    }\n    const poster = video.poster;\n    const contentType = getMimeType(poster);\n    const dataURL = await resourceToDataURL(poster, contentType, options);\n    return createImage(dataURL);\n}\nasync function cloneIFrameElement(iframe) {\n    var _a;\n    try {\n        if ((_a = iframe === null || iframe === void 0 ? void 0 : iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.body) {\n            return (await cloneNode(iframe.contentDocument.body, {}, true));\n        }\n    }\n    catch (_b) {\n        // Failed to clone iframe\n    }\n    return iframe.cloneNode(false);\n}\nasync function cloneSingleNode(node, options) {\n    if (isInstanceOfElement(node, HTMLCanvasElement)) {\n        return cloneCanvasElement(node);\n    }\n    if (isInstanceOfElement(node, HTMLVideoElement)) {\n        return cloneVideoElement(node, options);\n    }\n    if (isInstanceOfElement(node, HTMLIFrameElement)) {\n        return cloneIFrameElement(node);\n    }\n    return node.cloneNode(false);\n}\nconst isSlotElement = (node) => node.tagName != null && node.tagName.toUpperCase() === 'SLOT';\nasync function cloneChildren(nativeNode, clonedNode, options) {\n    var _a, _b;\n    let children = [];\n    if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n        children = toArray(nativeNode.assignedNodes());\n    }\n    else if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        ((_a = nativeNode.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        children = toArray(nativeNode.contentDocument.body.childNodes);\n    }\n    else {\n        children = toArray(((_b = nativeNode.shadowRoot) !== null && _b !== void 0 ? _b : nativeNode).childNodes);\n    }\n    if (children.length === 0 ||\n        isInstanceOfElement(nativeNode, HTMLVideoElement)) {\n        return clonedNode;\n    }\n    await children.reduce((deferred, child) => deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild) => {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }), Promise.resolve());\n    return clonedNode;\n}\nfunction cloneCSSStyle(nativeNode, clonedNode) {\n    const targetStyle = clonedNode.style;\n    if (!targetStyle) {\n        return;\n    }\n    const sourceStyle = window.getComputedStyle(nativeNode);\n    if (sourceStyle.cssText) {\n        targetStyle.cssText = sourceStyle.cssText;\n        targetStyle.transformOrigin = sourceStyle.transformOrigin;\n    }\n    else {\n        toArray(sourceStyle).forEach((name) => {\n            let value = sourceStyle.getPropertyValue(name);\n            if (name === 'font-size' && value.endsWith('px')) {\n                const reducedFont = Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1;\n                value = `${reducedFont}px`;\n            }\n            if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n                name === 'display' &&\n                value === 'inline') {\n                value = 'block';\n            }\n            if (name === 'd' && clonedNode.getAttribute('d')) {\n                value = `path(${clonedNode.getAttribute('d')})`;\n            }\n            targetStyle.setProperty(name, value, sourceStyle.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction cloneSelectValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n        const clonedSelect = clonedNode;\n        const selectedOption = Array.from(clonedSelect.children).find((child) => nativeNode.value === child.getAttribute('value'));\n        if (selectedOption) {\n            selectedOption.setAttribute('selected', '');\n        }\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        cloneCSSStyle(nativeNode, clonedNode);\n        clonePseudoElements(nativeNode, clonedNode);\n        cloneInputValue(nativeNode, clonedNode);\n        cloneSelectValue(nativeNode, clonedNode);\n    }\n    return clonedNode;\n}\nasync function ensureSVGSymbols(clone, options) {\n    const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : [];\n    if (uses.length === 0) {\n        return clone;\n    }\n    const processedDefs = {};\n    for (let i = 0; i < uses.length; i++) {\n        const use = uses[i];\n        const id = use.getAttribute('xlink:href');\n        if (id) {\n            const exist = clone.querySelector(id);\n            const definition = document.querySelector(id);\n            if (!exist && definition && !processedDefs[id]) {\n                // eslint-disable-next-line no-await-in-loop\n                processedDefs[id] = (await cloneNode(definition, options, true));\n            }\n        }\n    }\n    const nodes = Object.values(processedDefs);\n    if (nodes.length) {\n        const ns = 'http://www.w3.org/1999/xhtml';\n        const svg = document.createElementNS(ns, 'svg');\n        svg.setAttribute('xmlns', ns);\n        svg.style.position = 'absolute';\n        svg.style.width = '0';\n        svg.style.height = '0';\n        svg.style.overflow = 'hidden';\n        svg.style.display = 'none';\n        const defs = document.createElementNS(ns, 'defs');\n        svg.appendChild(defs);\n        for (let i = 0; i < nodes.length; i++) {\n            defs.appendChild(nodes[i]);\n        }\n        clone.appendChild(svg);\n    }\n    return clone;\n}\nexport async function cloneNode(node, options, isRoot) {\n    if (!isRoot && options.filter && !options.filter(node)) {\n        return null;\n    }\n    return Promise.resolve(node)\n        .then((clonedNode) => cloneSingleNode(clonedNode, options))\n        .then((clonedNode) => cloneChildren(node, clonedNode, options))\n        .then((clonedNode) => decorate(node, clonedNode))\n        .then((clonedNode) => ensureSVGSymbols(clonedNode, options));\n}\n//# sourceMappingURL=clone-node.js.map","import { resolveUrl } from './util';\nimport { getMimeType } from './mimes';\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl';\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g;\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nfunction toRegex(url) {\n    // eslint-disable-next-line no-useless-escape\n    const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g');\n}\nexport function parseURLs(cssText) {\n    const urls = [];\n    cssText.replace(URL_REGEX, (raw, quotation, url) => {\n        urls.push(url);\n        return raw;\n    });\n    return urls.filter((url) => !isDataUrl(url));\n}\nexport async function embed(cssText, resourceURL, baseURL, options, getContentFromUrl) {\n    try {\n        const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n        const contentType = getMimeType(resourceURL);\n        let dataURL;\n        if (getContentFromUrl) {\n            const content = await getContentFromUrl(resolvedURL);\n            dataURL = makeDataUrl(content, contentType);\n        }\n        else {\n            dataURL = await resourceToDataURL(resolvedURL, contentType, options);\n        }\n        return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`);\n    }\n    catch (error) {\n        // pass\n    }\n    return cssText;\n}\nfunction filterPreferredFontFormat(str, { preferredFontFormat }) {\n    return !preferredFontFormat\n        ? str\n        : str.replace(FONT_SRC_REGEX, (match) => {\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n                const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || [];\n                if (!format) {\n                    return '';\n                }\n                if (format === preferredFontFormat) {\n                    return `src: ${src};`;\n                }\n            }\n        });\n}\nexport function shouldEmbed(url) {\n    return url.search(URL_REGEX) !== -1;\n}\nexport async function embedResources(cssText, baseUrl, options) {\n    if (!shouldEmbed(cssText)) {\n        return cssText;\n    }\n    const filteredCSSText = filterPreferredFontFormat(cssText, options);\n    const urls = parseURLs(filteredCSSText);\n    return urls.reduce((deferred, url) => deferred.then((css) => embed(css, url, baseUrl, options)), Promise.resolve(filteredCSSText));\n}\n//# sourceMappingURL=embed-resources.js.map","import { embedResources } from './embed-resources';\nimport { toArray, isInstanceOfElement } from './util';\nimport { isDataUrl, resourceToDataURL } from './dataurl';\nimport { getMimeType } from './mimes';\nasync function embedProp(propName, node, options) {\n    var _a;\n    const propValue = (_a = node.style) === null || _a === void 0 ? void 0 : _a.getPropertyValue(propName);\n    if (propValue) {\n        const cssString = await embedResources(propValue, null, options);\n        node.style.setProperty(propName, cssString, node.style.getPropertyPriority(propName));\n        return true;\n    }\n    return false;\n}\nasync function embedBackground(clonedNode, options) {\n    if (!(await embedProp('background', clonedNode, options))) {\n        await embedProp('background-image', clonedNode, options);\n    }\n    if (!(await embedProp('mask', clonedNode, options))) {\n        await embedProp('mask-image', clonedNode, options);\n    }\n}\nasync function embedImageNode(clonedNode, options) {\n    const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement);\n    if (!(isImageElement && !isDataUrl(clonedNode.src)) &&\n        !(isInstanceOfElement(clonedNode, SVGImageElement) &&\n            !isDataUrl(clonedNode.href.baseVal))) {\n        return;\n    }\n    const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal;\n    const dataURL = await resourceToDataURL(url, getMimeType(url), options);\n    await new Promise((resolve, reject) => {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        const image = clonedNode;\n        if (image.decode) {\n            image.decode = resolve;\n        }\n        if (image.loading === 'lazy') {\n            image.loading = 'eager';\n        }\n        if (isImageElement) {\n            clonedNode.srcset = '';\n            clonedNode.src = dataURL;\n        }\n        else {\n            clonedNode.href.baseVal = dataURL;\n        }\n    });\n}\nasync function embedChildren(clonedNode, options) {\n    const children = toArray(clonedNode.childNodes);\n    const deferreds = children.map((child) => embedImages(child, options));\n    await Promise.all(deferreds).then(() => clonedNode);\n}\nexport async function embedImages(clonedNode, options) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        await embedBackground(clonedNode, options);\n        await embedImageNode(clonedNode, options);\n        await embedChildren(clonedNode, options);\n    }\n}\n//# sourceMappingURL=embed-images.js.map","export function applyStyle(node, options) {\n    const { style } = node;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = `${options.width}px`;\n    }\n    if (options.height) {\n        style.height = `${options.height}px`;\n    }\n    const manual = options.style;\n    if (manual != null) {\n        Object.keys(manual).forEach((key) => {\n            style[key] = manual[key];\n        });\n    }\n    return node;\n}\n//# sourceMappingURL=apply-style.js.map","import { toArray } from './util';\nimport { fetchAsDataURL } from './dataurl';\nimport { shouldEmbed, embedResources } from './embed-resources';\nconst cssFetchCache = {};\nasync function fetchCSS(url) {\n    let cache = cssFetchCache[url];\n    if (cache != null) {\n        return cache;\n    }\n    const res = await fetch(url);\n    const cssText = await res.text();\n    cache = { url, cssText };\n    cssFetchCache[url] = cache;\n    return cache;\n}\nasync function embedFonts(data, options) {\n    let cssText = data.cssText;\n    const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n    const fontLocs = cssText.match(/url\\([^)]+\\)/g) || [];\n    const loadFonts = fontLocs.map(async (loc) => {\n        let url = loc.replace(regexUrl, '$1');\n        if (!url.startsWith('https://')) {\n            url = new URL(url, data.url).href;\n        }\n        return fetchAsDataURL(url, options.fetchRequestInit, ({ result }) => {\n            cssText = cssText.replace(loc, `url(${result})`);\n            return [loc, result];\n        });\n    });\n    return Promise.all(loadFonts).then(() => cssText);\n}\nfunction parseCSS(source) {\n    if (source == null) {\n        return [];\n    }\n    const result = [];\n    const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n    // strip out comments\n    let cssText = source.replace(commentsRegex, '');\n    // eslint-disable-next-line prefer-regex-literals\n    const keyframesRegex = new RegExp('((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})', 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const matches = keyframesRegex.exec(cssText);\n        if (matches === null) {\n            break;\n        }\n        result.push(matches[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi;\n    // to match css & media queries together\n    const combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n        '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})';\n    // unified regex\n    const unifiedRegex = new RegExp(combinedCSSRegex, 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        let matches = importRegex.exec(cssText);\n        if (matches === null) {\n            matches = unifiedRegex.exec(cssText);\n            if (matches === null) {\n                break;\n            }\n            else {\n                importRegex.lastIndex = unifiedRegex.lastIndex;\n            }\n        }\n        else {\n            unifiedRegex.lastIndex = importRegex.lastIndex;\n        }\n        result.push(matches[0]);\n    }\n    return result;\n}\nasync function getCSSRules(styleSheets, options) {\n    const ret = [];\n    const deferreds = [];\n    // First loop inlines imports\n    styleSheets.forEach((sheet) => {\n        if ('cssRules' in sheet) {\n            try {\n                toArray(sheet.cssRules || []).forEach((item, index) => {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        let importIndex = index + 1;\n                        const url = item.href;\n                        const deferred = fetchCSS(url)\n                            .then((metadata) => embedFonts(metadata, options))\n                            .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                            try {\n                                sheet.insertRule(rule, rule.startsWith('@import')\n                                    ? (importIndex += 1)\n                                    : sheet.cssRules.length);\n                            }\n                            catch (error) {\n                                console.error('Error inserting rule from remote css', {\n                                    rule,\n                                    error,\n                                });\n                            }\n                        }))\n                            .catch((e) => {\n                            console.error('Error loading remote css', e.toString());\n                        });\n                        deferreds.push(deferred);\n                    }\n                });\n            }\n            catch (e) {\n                const inline = styleSheets.find((a) => a.href == null) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    deferreds.push(fetchCSS(sheet.href)\n                        .then((metadata) => embedFonts(metadata, options))\n                        .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                        inline.insertRule(rule, sheet.cssRules.length);\n                    }))\n                        .catch((err) => {\n                        console.error('Error loading remote stylesheet', err);\n                    }));\n                }\n                console.error('Error inlining remote css file', e);\n            }\n        }\n    });\n    return Promise.all(deferreds).then(() => {\n        // Second loop parses rules\n        styleSheets.forEach((sheet) => {\n            if ('cssRules' in sheet) {\n                try {\n                    toArray(sheet.cssRules || []).forEach((item) => {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.error(`Error while reading CSS rules from ${sheet.href}`, e);\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n        .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')));\n}\nasync function parseWebFontRules(node, options) {\n    if (node.ownerDocument == null) {\n        throw new Error('Provided element is not within a Document');\n    }\n    const styleSheets = toArray(node.ownerDocument.styleSheets);\n    const cssRules = await getCSSRules(styleSheets, options);\n    return getWebFontRules(cssRules);\n}\nexport async function getWebFontCSS(node, options) {\n    const rules = await parseWebFontRules(node, options);\n    const cssTexts = await Promise.all(rules.map((rule) => {\n        const baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources(rule.cssText, baseUrl, options);\n    }));\n    return cssTexts.join('\\n');\n}\nexport async function embedWebFonts(clonedNode, options) {\n    const cssText = options.fontEmbedCSS != null\n        ? options.fontEmbedCSS\n        : options.skipFonts\n            ? null\n            : await getWebFontCSS(clonedNode, options);\n    if (cssText) {\n        const styleNode = document.createElement('style');\n        const sytleContent = document.createTextNode(cssText);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n    }\n}\n//# sourceMappingURL=embed-webfonts.js.map","import { cloneNode } from './clone-node';\nimport { embedImages } from './embed-images';\nimport { applyStyle } from './apply-style';\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts';\nimport { getImageSize, getPixelRatio, createImage, canvasToBlob, nodeToDataURL, checkCanvasDimensions, } from './util';\nexport async function toSvg(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const clonedNode = (await cloneNode(node, options, true));\n    await embedWebFonts(clonedNode, options);\n    await embedImages(clonedNode, options);\n    applyStyle(clonedNode, options);\n    const datauri = await nodeToDataURL(clonedNode, width, height);\n    return datauri;\n}\nexport async function toCanvas(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const svg = await toSvg(node, options);\n    const img = await createImage(svg);\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    const ratio = options.pixelRatio || getPixelRatio();\n    const canvasWidth = options.canvasWidth || width;\n    const canvasHeight = options.canvasHeight || height;\n    canvas.width = canvasWidth * ratio;\n    canvas.height = canvasHeight * ratio;\n    if (!options.skipAutoScale) {\n        checkCanvasDimensions(canvas);\n    }\n    canvas.style.width = `${canvasWidth}`;\n    canvas.style.height = `${canvasHeight}`;\n    if (options.backgroundColor) {\n        context.fillStyle = options.backgroundColor;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    context.drawImage(img, 0, 0, canvas.width, canvas.height);\n    return canvas;\n}\nexport async function toPixelData(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const canvas = await toCanvas(node, options);\n    const ctx = canvas.getContext('2d');\n    return ctx.getImageData(0, 0, width, height).data;\n}\nexport async function toPng(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL();\n}\nexport async function toJpeg(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL('image/jpeg', options.quality || 1);\n}\nexport async function toBlob(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    const blob = await canvasToBlob(canvas);\n    return blob;\n}\nexport async function getFontEmbedCSS(node, options = {}) {\n    return getWebFontCSS(node, options);\n}\n//# sourceMappingURL=index.js.map","import { id as moduleId } from \"../../../public/module.json\";\r\nimport { sendVibeCheckResponse } from \"./socket\";\r\nimport { getReactionObject } from \"./utils\";\r\n\r\ntype userResponse = {\r\n  user: {};\r\n  response: Number;\r\n};\r\n\r\nexport default class VibeCheckPopup extends Application {\r\n  static instance;\r\n  userResponses: userResponse[] = [];\r\n\r\n  static getInstance() {\r\n    if (!this.instance) {\r\n      this.instance = new VibeCheckPopup();\r\n    }\r\n\r\n    return this.instance;\r\n  }\r\n\r\n  /**\r\n   * override\r\n   */\r\n  static get defaultOptions() {\r\n    return mergeObject(super.defaultOptions, {\r\n      classes: [\"form\", \"crowdgoeswild\", \"vibecheck\"],\r\n      popOut: true,\r\n      template: `modules/${moduleId}/templates/VibeCheckPopup.hbs`,\r\n      id: `${moduleId}-vibe-check`,\r\n      title: \"CrowdGoesWild - Vibe Check\",\r\n      width: 600,\r\n      // height: game.user.isGM ? 600 : \"auto\",\r\n      height: \"auto\",\r\n    });\r\n  }\r\n\r\n  async getData(): object | Promise<object> {\r\n    let users = await game.users.players.filter((u) => u.active);\r\n\r\n    //group the responses by user for display. Variable naming is awful here.\r\n    let groupedResponses = [];\r\n    for (const user of users) {\r\n      let filteredResponses = [];\r\n      for (const sentResponse of this.userResponses) {\r\n        if (sentResponse.user._id == user.id) {\r\n          filteredResponses.push(sentResponse.response);\r\n        }\r\n      }\r\n\r\n      let userCharacter = await user.character;\r\n      if (userCharacter) {\r\n        user.image = userCharacter.img;\r\n      } else {\r\n        user.image = user.avatar;\r\n      }\r\n\r\n      let userResponses = {\r\n        user: user,\r\n        responses: filteredResponses,\r\n      };\r\n\r\n      groupedResponses.push(userResponses);\r\n    }\r\n\r\n    let data = {\r\n      isGM: game.user.isGM,\r\n      reactions: await game.settings.get(moduleId, \"reactions\"),\r\n      responses: this.userResponses,\r\n      groupedResponses: groupedResponses,\r\n    };\r\n\r\n    return data;\r\n  }\r\n\r\n  activateListeners(html: JQuery<HTMLElement>): void {\r\n    html.find(\"button.reaction\").on(\"click\", (ev) => {\r\n      sendVibeCheckResponse(game.user, ev.currentTarget.dataset.id);\r\n      this.close();\r\n    });\r\n\r\n    $(document).off(\"keyup.cgw-vibecheck\");\r\n    $(document).on(\"keyup.cgw-vibecheck\", (ev) => {\r\n      let key = parseInt(ev.key);\r\n      if (key >= 1 && key <= 6) {\r\n        console.log(key, key >= 1 && key <= 6);\r\n        sendVibeCheckResponse(game.user, key - 1);\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  async close(options?: Application.CloseOptions): Promise<void> {\r\n    $(document).off(\"keyup.cgw-vibecheck\");\r\n    super.close();\r\n  }\r\n}\r\n\r\nexport async function recordVibeCheckResponse(response) {\r\n  let vc = VibeCheckPopup.getInstance();\r\n  let reaction = await getReactionObject(response.response);\r\n  let user = response.user;\r\n  response = {\r\n    user: user,\r\n    response: reaction,\r\n  };\r\n  vc.userResponses.push(response);\r\n  vc.render(false);\r\n}\r\n","import { insertSentReaction, displayVibeCheck } from \"./events\";\r\nimport { id as moduleId } from \"../../../public/module.json\";\r\nimport { recordVibeCheckResponse } from \"./VibeCheckPopup\";\r\n\r\nexport function registerSocketEvents() {\r\n  game.socket.on(`module.${moduleId}`, handleSocketEvent);\r\n}\r\n\r\nexport async function emitSocketEvent({ type, payload }) {\r\n  let event = {\r\n    type,\r\n    payload,\r\n  };\r\n  await game.socket.emit(`module.${moduleId}`, event);\r\n  handleSocketEvent(event);\r\n}\r\n\r\nexport async function sendReactionToSocket(reactionId) {\r\n  emitSocketEvent({\r\n    type: \"icon\",\r\n    payload: reactionId,\r\n  });\r\n}\r\n\r\nexport async function reloadAllClients() {\r\n  emitSocketEvent({\r\n    type: \"reload\",\r\n    payload: \"\",\r\n  });\r\n}\r\n\r\nexport async function sendVibeCheckResponse(user, responseId) {\r\n  emitSocketEvent({\r\n    type: \"vibecheckresponse\",\r\n    payload: { user: user, response: responseId },\r\n  });\r\n}\r\n\r\nexport async function initiateVibeCheck() {\r\n  emitSocketEvent({\r\n    type: \"vibecheck\",\r\n    payload: { duration: game.settings.get(moduleId, \"vibecheckduration\") },\r\n  });\r\n}\r\n\r\nfunction handleSocketEvent({ type, payload }) {\r\n  switch (type) {\r\n    case \"icon\":\r\n      insertSentReaction(payload);\r\n      break;\r\n\r\n    case \"reload\":\r\n      debouncedReload();\r\n      break;\r\n\r\n    case \"vibecheck\":\r\n      displayVibeCheck(payload.duration);\r\n      break;\r\n\r\n    case \"vibecheckresponse\":\r\n      recordVibeCheckResponse(payload);\r\n      break;\r\n\r\n    default:\r\n      throw new Error(\"unknown type\");\r\n      break;\r\n  }\r\n}\r\n","import { gsap, CustomWiggle, CustomEase } from \"/scripts/greensock/esm/all.js\";\r\nimport { randomNumber, getReactionObject, getReactionHTML } from \"./utils\";\r\nimport { sendReactionToSocket } from \"./socket\";\r\nimport { id as moduleId } from \"../../../public/module.json\";\r\nimport VibeCheckPopup from \"./VibeCheckPopup\";\r\n\r\nexport async function insertSentReaction(reactionId) {\r\n  let reaction = await getReactionObject(reactionId);\r\n\r\n  let htmlString = await getReactionHTML(reaction);\r\n  let $fullScreen = $(\"#interface\");\r\n\r\n  let $added = $(htmlString).appendTo($fullScreen);\r\n  gsap.effects[reaction.effect]($added, {\r\n    parent: $fullScreen,\r\n    reaction: reaction,\r\n  });\r\n}\r\n\r\nexport async function displayVibeCheck(duration) {\r\n  let vc = VibeCheckPopup.getInstance();\r\n  vc.userResponses = [];\r\n  vc.render(true);\r\n  if (duration > 0) {\r\n    if (!game.user.isGM) {\r\n      setTimeout(() => vc.close(), duration * 1000);\r\n    } else {\r\n      setTimeout(() => vc.close(), duration * 2 * 1000);\r\n    }\r\n  }\r\n}\r\n\r\nexport async function handleReactionClick(id) {\r\n  // let clickedReaction = reactions.find(r => r.id == id)\r\n  sendReactionToSocket(id);\r\n}\r\n","export const reactionSets = {\r\n  default: {\r\n    label: \"Default\",\r\n    reactions: [\r\n      {\r\n        id: \"0\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Like\",\r\n        icon: \"heart\",\r\n        primaryColor: \"#eb34b1\",\r\n        secondaryColor: \"\",\r\n        style: \"fas\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"1\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"OMG\",\r\n        icon: \"triangle-exclamation\",\r\n        primaryColor: \"#c52525\",\r\n        secondaryColor: \"#efaa4b\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"2\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Axe\",\r\n        icon: \"axe\",\r\n        primaryColor: \"#5f7e96\",\r\n        secondaryColor: \"#c1c1c1\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-toss\",\r\n        directional: true,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"3\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"droplet\",\r\n        icon: \"droplet\",\r\n        primaryColor: \"#a4fbf7\",\r\n        secondaryColor: \"#00a6ff\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-drop\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"4\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"fire\",\r\n        icon: \"fire\",\r\n        primaryColor: \"#dd0000\",\r\n        secondaryColor: \"#f5c767\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"5\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"x\",\r\n        icon: \"times\",\r\n        primaryColor: \"#dd0000\",\r\n        secondaryColor: \"rgba(255,255,255,0.6)\",\r\n        style: \"fas\",\r\n        effect: \"shutdown\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n    ],\r\n  },\r\n  sciFantasy: {\r\n    label: \"Sci-Fantasy\",\r\n    reactions: [\r\n      {\r\n        id: \"0\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Like\",\r\n        icon: \"heart\",\r\n        primaryColor: \"#eb34b1\",\r\n        secondaryColor: \"\",\r\n        style: \"fas\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"1\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Warning\",\r\n        icon: \"siren\",\r\n        primaryColor: \"#5b7b8e\",\r\n        secondaryColor: \"#e60404\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"2\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Laser Sword\",\r\n        icon: \"sword-laser\",\r\n        primaryColor: \"#7a7a7a\",\r\n        secondaryColor: \"#51e367\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-toss\",\r\n        directional: true,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"3\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Space Station\",\r\n        icon: \"space-station-moon-construction\",\r\n        primaryColor: \"#cfcfcf\",\r\n        secondaryColor: \"#585858\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-drop\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"4\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Ship\",\r\n        icon: \"starship-freighter\",\r\n        primaryColor: \"#5f6d7e\",\r\n        secondaryColor: \"#aeaeae\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-toss\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"5\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"x\",\r\n        icon: \"square-xmark\",\r\n        primaryColor: \"#dd0000\",\r\n        secondaryColor: \"rgba(255,255,255,0.6)\",\r\n        style: \"fas\",\r\n        effect: \"shutdown\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n    ],\r\n  },\r\n  cozy: {\r\n    label: \"Cozy\",\r\n    reactions: [\r\n      {\r\n        id: \"0\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Like\",\r\n        icon: \"leaf\",\r\n        primaryColor: \"#a8df35\",\r\n        secondaryColor: \"#6c9733\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-flutterDown\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"1\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"OMG\",\r\n        icon: \"triangle-exclamation\",\r\n        primaryColor: \"#f5ad42\",\r\n        secondaryColor: \"\",\r\n        style: \"fas\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"2\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Axe\",\r\n        icon: \"mug-tea\",\r\n        primaryColor: \"#87b83d\",\r\n        secondaryColor: \"#ddbeaa\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: true,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"3\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"droplet\",\r\n        icon: \"droplet\",\r\n        primaryColor: \"#a4fbf7\",\r\n        secondaryColor: \"#6bc7fe\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-drop\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"4\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"fire\",\r\n        icon: \"candle-holder\",\r\n        primaryColor: \"#f5efc5\",\r\n        secondaryColor: \"#eb8c34\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"5\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"x\",\r\n        icon: \"times\",\r\n        primaryColor: \"#dd0000\",\r\n        secondaryColor: \"rgba(255,255,255,0.6)\",\r\n        style: \"fas\",\r\n        effect: \"shutdown\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n    ],\r\n  },\r\n  tavern: {\r\n    label: \"Tavern\",\r\n    reactions: [\r\n      {\r\n        id: \"0\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Like\",\r\n        icon: \"heart\",\r\n        primaryColor: \"#eb34b1\",\r\n        secondaryColor: \"\",\r\n        style: \"fas\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"1\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"OMG\",\r\n        icon: \"triangle-exclamation\",\r\n        primaryColor: \"#c52525\",\r\n        secondaryColor: \"#efaa4b\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"2\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Axe\",\r\n        icon: \"axe\",\r\n        primaryColor: \"#5f7e96\",\r\n        secondaryColor: \"#c1c1c1\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-toss\",\r\n        directional: true,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"3\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Beer\",\r\n        icon: \"beer-mug\",\r\n        primaryColor: \"#fee2a0\",\r\n        secondaryColor: \"#69432c\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-toss\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"4\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"Meat\",\r\n        icon: \"meat\",\r\n        primaryColor: \"#ae4020\",\r\n        secondaryColor: \"#fbe7bd\",\r\n        style: \"fa-duotone\",\r\n        effect: \"physics-floatUp\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n      {\r\n        id: \"5\",\r\n        speed: \"1\",\r\n        enabled: \"true\",\r\n        title: \"x\",\r\n        icon: \"times\",\r\n        primaryColor: \"#dd0000\",\r\n        secondaryColor: \"rgba(255,255,255,0.6)\",\r\n        style: \"fas\",\r\n        effect: \"shutdown\",\r\n        directional: false,\r\n        type: \"fontawesome\",\r\n        path: \"\",\r\n        maxWidth: 200,\r\n        maxHeight: 200,\r\n        fontSize: 48,\r\n      },\r\n    ],\r\n  },\r\n};\r\n","import { ReactionSetupMenu } from \"./ReactionSetupMenu\";\r\nimport { id as moduleId } from \"../../../public/module.json\";\r\nimport { saveAllReactionPNGs } from \"./utils\";\r\nimport { reactionSets } from \"./reactionsets\";\r\n\r\nexport const ReactionOption = {\r\n  id: 0,\r\n  title: \"\",\r\n  icon: \"\",\r\n  primaryColor: \"\",\r\n  secondaryColor: \"\",\r\n  style: \"\",\r\n  speed: 0,\r\n  effect: \"\",\r\n  directional: false,\r\n  enabled: true,\r\n  type: \"\",\r\n  path: \"\",\r\n  maxWidth: 200,\r\n  maxHeight: 200,\r\n};\r\n\r\nexport const typeOptions = [\r\n  {\r\n    label: \"Image/Video\",\r\n    value: \"filepicker\",\r\n  },\r\n  {\r\n    label: \"Font Icon\",\r\n    value: \"fontawesome\",\r\n  },\r\n];\r\n\r\nexport type ReactionOption = typeof ReactionOption;\r\n\r\nexport async function loadReactionsPreset(presetName: string) {\r\n  let reactions = reactionSets[presetName].reactions;\r\n  await game.settings.set(moduleId, \"reactions\", reactions);\r\n  //   await saveAllReactionPNGs(true);\r\n  //   debouncedReload();\r\n  return;\r\n}\r\n\r\nexport function registerSettings() {\r\n  console.log(\"Registering CGW Settings\");\r\n  game.settings.register(moduleId, \"reactions\", {\r\n    name: \"Reaction\",\r\n    hint: \"The list of reactions usable by your players\",\r\n    scope: \"world\", // \"world\" = sync to db, \"client\" = local storage\r\n    config: false, // false if you dont want it to show in module config\r\n    type: Array, // Number, Boolean, String, Object\r\n    default: reactionSets[\"default\"].reactions,\r\n    onChange: (value) => {\r\n      // value is the new value of the setting\r\n    },\r\n  });\r\n\r\n  game.settings.register(moduleId, \"vibecheckautoclose\", {\r\n    name: \"Close vibe check after selection\",\r\n    hint: \"If this is enabled, players' vibe check popups will close after they make a selection. If this is disabled, it will stay open and they can choose another reaction.\",\r\n    scope: \"world\", // \"world\" = sync to db, \"client\" = local storage\r\n    config: true, // false if you dont want it to show in module config\r\n    type: Boolean, // Number, Boolean, String, Object\r\n    default: true,\r\n    onChange: (value) => {\r\n      // value is the new value of the setting\r\n    },\r\n  });\r\n\r\n  game.settings.register(moduleId, \"vibecheckduration\", {\r\n    name: \"Vibe check duration\",\r\n    hint: \"This determines, in seconds, how long players have to respond to a vibe check. The results will display to the GM for twice this duration. 0 = no timeout\",\r\n    scope: \"world\", // \"world\" = sync to db, \"client\" = local storage\r\n    config: true, // false if you dont want it to show in module config\r\n    type: Number, // Number, Boolean, String, Object\r\n    default: 10,\r\n    range: {\r\n      min: 0,\r\n      step: 10,\r\n      max: 60,\r\n    },\r\n    onChange: (value) => {\r\n      // value is the new value of the setting\r\n    },\r\n  });\r\n\r\n  game.settings.register(moduleId, \"moduleVersion\", {\r\n    scope: \"world\", // \"world\" = sync to db, \"client\" = local storage\r\n    config: true, // false if you dont want it to show in module config\r\n    type: String, // Number, Boolean, String, Object\r\n    default: \"1.0.0-alpha4\",\r\n  });\r\n\r\n  game.settings.register(moduleId, \"maxdisplayed\", {\r\n    name: \"Maximum Simultaneous Reactions\",\r\n    hint: `Turn this down if you're running into performance issues from players spamming reactions.`,\r\n    scope: \"client\",\r\n    config: false,\r\n    type: Number,\r\n    range: {\r\n      min: 10,\r\n      max: 200,\r\n      step: 5,\r\n    },\r\n    default: 200,\r\n  });\r\n\r\n  // game.settings.registerMenu(moduleId, \"reactionSetup\", {\r\n  //   name: \"Reactions\",\r\n  //   label: \"Configure Available Reactions\", // The text label used in the button\r\n  //   hint: \"Use this menu to create up to eight reactions for your players to use during play.\",\r\n  //   icon: \"fas fa-bars\", // A Font Awesome icon used in the submenu button\r\n  //   type: ReactionSetupMenu, // A FormApplication subclass\r\n  //   restricted: true, // Restrict this submenu to gamemaster only?\r\n  // });\r\n}\r\n","import { id as moduleId } from \"../../../public/module.json\";\r\n\r\nexport class ReactionEditor extends FormApplication {\r\n  reactionId: Number;\r\n  parent;\r\n  constructor(reactionId, parent?) {\r\n    super({});\r\n    this.reactionId = reactionId;\r\n    this.parent = parent;\r\n  }\r\n\r\n  loadedJSON = {};\r\n  selectedPreset = \"default\";\r\n\r\n  static get defaultOptions() {\r\n    return mergeObject(super.defaultOptions, {\r\n      classes: [\"form\", \"crowdgoeswild\", \"reactionEdtior\"],\r\n      popOut: true,\r\n      template: `modules/${moduleId}/templates/ReactionEditor.hbs`,\r\n      id: `${moduleId}-reaction-editor`,\r\n      title: \"CrowdGoesWild - Reaction Editor\",\r\n      width: 600,\r\n      height: \"auto\",\r\n      submitOnChange: true,\r\n      closeOnSubmit: false,\r\n      resizable: true,\r\n    });\r\n  }\r\n\r\n  async getData() {\r\n    let reactions = await game.settings.get(moduleId, \"reactions\");\r\n    let data = reactions.find((reaction) => reaction.id == this.reactionId);\r\n    return data;\r\n  }\r\n\r\n  async _updateObject(event, formData) {\r\n    const data = expandObject(formData);\r\n    let reactions = await game.settings.get(moduleId, \"reactions\");\r\n\r\n    let index = reactions.findIndex(\r\n      (reaction) => reaction.id == this.reactionId\r\n    );\r\n\r\n    reactions[index] = formData;\r\n\r\n    await game.settings.set(moduleId, \"reactions\", reactions);\r\n    await this.render();\r\n    await this.parent.render();\r\n  }\r\n\r\n  switchColors(inputEl1, inputEl2) {\r\n    let v1 = inputEl1.value;\r\n    let v2 = inputEl2.value;\r\n    console.log(inputEl1, inputEl2);\r\n\r\n    inputEl1.value = v2;\r\n    inputEl2.value = v1;\r\n  }\r\n\r\n  activateListeners(html) {\r\n    super.activateListeners(html);\r\n\r\n    // html.find(\"#generateButton\").on(\"click\", async (ev) => {\r\n    //   this.close();\r\n    //   await saveAllReactionPNGs(true);\r\n    //   reloadAllClients();\r\n    // });\r\n    // html.find(\"#resetButton\").on(\"click\", (ev) => {\r\n    //   this.showLoadPresetDialog();\r\n    // });\r\n    // html.find(\"#exportButton\").on(\"click\", (ev) => {\r\n    //   this.exportReactions();\r\n    // });\r\n    // html.find(\"#importButton\").on(\"click\", (ev) => {\r\n    //   this.showImportReactionsDialog();\r\n    // });\r\n    // html.find(\"#reactionPreset\").on(\"change\", (ev) => {\r\n    //   ev.stopPropagation();\r\n    //   this.selectedPreset = ev.currentTarget.value;\r\n    // });\r\n\r\n    html.find(\".colorSwitch\").on(\"click\", (ev) => {\r\n      ev.stopPropagation();\r\n      let i1 = $(ev.currentTarget)\r\n        .parents(\".colors\")\r\n        .find(\".primaryColor input.color\")\r\n        .first()\r\n        .get(0);\r\n      let i2 = $(ev.currentTarget)\r\n        .parents(\".colors\")\r\n        .find(\".secondaryColor input.color\")\r\n        .first()\r\n        .get(0);\r\n\r\n      console.log(i1, i2);\r\n      this.switchColors(i1, i2);\r\n    });\r\n\r\n    // html.find(\".pathPicker\").on(\"click\", (ev) => {\r\n    //   let inputEl = $(ev.currentTarget).siblings(\"input.path\").get(0);\r\n    //   inputEl.value = \"butts\";\r\n    //   let picker = new FilePicker({\r\n    //     callback: (picked) => {\r\n    //       console.log(picked);\r\n    //       try {\r\n    //         inputEl.value = picked;\r\n    //       } catch (error) {\r\n    //         console.error(error);\r\n    //       }\r\n    //     },\r\n    //   });\r\n    //   picker.render(true);\r\n    // });\r\n  }\r\n\r\n  // showImportReactionsDialog() {\r\n  //   let d = new Dialog({\r\n  //     title: \"Import Reactions\",\r\n  //     content: `\r\n  //           <p>Import a set of reactions from a JSON file? All current reactions will be overwritten.</p>\r\n  //           <input type=\"file\" id=\"importer\" name=\"reactionjson\" class=\"cgw importer\">\r\n  //           `,\r\n  //     buttons: {\r\n  //       one: {\r\n  //         icon: '<i class=\"fas fa-check\"></i>',\r\n  //         label: \"Import\",\r\n  //         callback: () => {\r\n  //           if (this.loadedJSON) {\r\n  //             this.saveReactionSetData(this.loadedJSON);\r\n  //           }\r\n  //         },\r\n  //       },\r\n  //       two: {\r\n  //         icon: '<i class=\"fas fa-times\"></i>',\r\n  //         label: \"Cancel\",\r\n  //         callback: () => {},\r\n  //       },\r\n  //     },\r\n  //     default: \"two\",\r\n  //     render: (html) => {\r\n  //       $(html)\r\n  //         .find(\"#importer\")\r\n  //         .on(\"change\", (ev) => {\r\n  //           console.log(\"Loaded file\");\r\n  //           let reader = new FileReader();\r\n  //           reader.onload = (readerEv) => {\r\n  //             try {\r\n  //               let loadedJSON = JSON.parse(readerEv.target.result);\r\n  //               if (this.validateLoadedJSON(loadedJSON)) {\r\n  //                 this.loadedJSON = loadedJSON;\r\n  //               }\r\n  //             } catch (error) {\r\n  //               console.log(\"Invalid JSON file\");\r\n  //               this.loadedJSON = false;\r\n  //             }\r\n  //           };\r\n  //           reader.readAsText(ev.target.files[0]);\r\n  //         });\r\n  //     },\r\n  //     close: (html) => {},\r\n  //   });\r\n  //   d.render(true);\r\n  // }\r\n\r\n  // async exportReactions() {\r\n  //   let data = await game.settings.get(moduleId, \"reactions\");\r\n  //   let dataJSON = JSON.stringify(data);\r\n  //   saveDataToFile(dataJSON, \"text/json\", \"reactions.json\");\r\n  // }\r\n\r\n  // async saveReactionSetData(data) {\r\n  // await game.settings.set(moduleId, 'reactions', data)\r\n  // }\r\n\r\n  // validateLoadedJSON(data) {\r\n  //   let isValid = true;\r\n  //   // make sure it's an array\r\n  //   if (Array.isArray(data)) {\r\n  //     // make sure nobody's slipping in the wrong number of reactions\r\n  //     if (data.length == 6) {\r\n  //       // check each row to make sure it has the right fields\r\n  //       for (const row of data) {\r\n  //         for (const key in ReactionOption) {\r\n  //           if (!(key in row)) {\r\n  //             isValid = false;\r\n  //             console.log(`Invalid JSON data in row ${row.id}: Missing ${key}`);\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     } else {\r\n  //       isValid = false;\r\n  //     }\r\n  //   }\r\n  //   return isValid;\r\n  // }\r\n\r\n  // showLoadPresetDialog() {\r\n  //   let d = new Dialog({\r\n  //     title: \"Load Preset\",\r\n  //     content: `<p>Load the ${\r\n  //       reactionSets[this.selectedPreset].label\r\n  //     } preset? Any changes you've made to reactions will be lost.</p>`,\r\n  //     buttons: {\r\n  //       one: {\r\n  //         icon: '<i class=\"fas fa-check\"></i>',\r\n  //         label: \"Load Preset\",\r\n  //         callback: async () => {\r\n  //           await loadReactionsPreset(this.selectedPreset);\r\n  //           this.render(false);\r\n  //         },\r\n  //       },\r\n  //       two: {\r\n  //         icon: '<i class=\"fas fa-times\"></i>',\r\n  //         label: \"Cancel\",\r\n  //         callback: () => {},\r\n  //       },\r\n  //     },\r\n  //     default: \"two\",\r\n  //     render: (html) => {},\r\n  //     close: (html) => {},\r\n  //   });\r\n  //   d.render(true);\r\n  // }\r\n}\r\n","import { id as moduleId } from \"../../../public/module.json\";\r\nimport { calcAngleDegrees, saveAllReactionPNGs } from \"./utils\";\r\nimport { loadReactionsPreset, ReactionOption } from \"./settings\";\r\nimport { reactionSets } from \"./reactionsets\";\r\nimport { reloadAllClients } from \"./socket\";\r\nimport { ReactionEditor } from \"./ReactionEditor\";\r\n\r\nexport class ReactionSetupMenu extends Application {\r\n  // constructor(exampleOption) {\r\n  //     super(exampleOption);\r\n  // }\r\n\r\n  loadedJSON = {};\r\n  selectedPreset = \"default\";\r\n\r\n  static get defaultOptions() {\r\n    return mergeObject(super.defaultOptions, {\r\n      classes: [\"form\", \"crowdgoeswild\", \"reactionSetup\"],\r\n      popOut: true,\r\n      template: `modules/${moduleId}/templates/ReactionSetup.hbs`,\r\n      id: `${moduleId}-reaction-setup`,\r\n      title: \"CrowdGoesWild - Reaction Setup\",\r\n      width: 1200,\r\n      // submitOnChange: true,\r\n      closeOnSubmit: false,\r\n      resizable: true,\r\n    });\r\n  }\r\n\r\n  async getData() {\r\n    let data = {\r\n      currentReactions: [],\r\n      presets: reactionSets,\r\n      selectedPreset: this.selectedPreset,\r\n    };\r\n    data.currentReactions = game.settings.get(moduleId, \"reactions\") as [];\r\n    // let outputReactions = []\r\n    // for (const reaction of currentReactions) {\r\n    //     if(!reaction.id){\r\n\r\n    //     }\r\n    // }\r\n    return data;\r\n  }\r\n\r\n  // switchColors(inputEl1, inputEl2) {\r\n  //   let v1 = inputEl1.value;\r\n  //   let v2 = inputEl2.value;\r\n  //   console.log(inputEl1, inputEl2);\r\n\r\n  //   inputEl1.value = v2;\r\n  //   inputEl2.value = v1;\r\n  // }\r\n\r\n  // async _updateObject(event, formData) {\r\n  //   const data = expandObject(formData);\r\n  //   let reactions = [];\r\n\r\n  //   for (const reaction of Object.values(data)) {\r\n  //     reactions[reaction.id] = reaction;\r\n  //   }\r\n  //   await game.settings.set(moduleId, \"reactions\", reactions);\r\n  //   await this.render();\r\n  // }\r\n\r\n  activateListeners(html) {\r\n    //   super.activateListeners(html);\r\n\r\n    //   html.find(\"#generateButton\").on(\"click\", async (ev) => {\r\n    //     this.close();\r\n    //     await saveAllReactionPNGs(true);\r\n    //     reloadAllClients();\r\n    //   });\r\n    html.find(\"#resetButton\").on(\"click\", (ev) => {\r\n      ev.stopPropagation();\r\n      this.showLoadPresetDialog();\r\n    });\r\n\r\n    html.find(\".reactionEdit\").on(\"click\", (ev) => {\r\n      ev.stopPropagation();\r\n      let reactionEditor = new ReactionEditor(\r\n        ev.currentTarget.dataset.id,\r\n        this\r\n      );\r\n      reactionEditor.render(true);\r\n    });\r\n    //   html.find(\"#exportButton\").on(\"click\", (ev) => {\r\n    //     this.exportReactions();\r\n    //   });\r\n    //   html.find(\"#importButton\").on(\"click\", (ev) => {\r\n    //     this.showImportReactionsDialog();\r\n    //   });\r\n    html.find(\"#reactionPreset\").on(\"change\", (ev) => {\r\n      ev.stopPropagation();\r\n      this.selectedPreset = ev.currentTarget.value;\r\n    });\r\n\r\n    //   html.find(\".colorSwitch\").on(\"click\", (ev) => {\r\n    //     ev.stopPropagation();\r\n    //     let i1 = $(ev.target)\r\n    //       .parents(\".reactionRow\")\r\n    //       .find(\".primaryColor input.color\")\r\n    //       .first()\r\n    //       .get(0);\r\n    //     let i2 = $(ev.target)\r\n    //       .parents(\".reactionRow\")\r\n    //       .find(\".secondaryColor input.color\")\r\n    //       .first()\r\n    //       .get(0);\r\n    //     this.switchColors(i1, i2);\r\n    //   });\r\n\r\n    // html.find(\".pathPicker\").on(\"click\", (ev) => {\r\n    //   let inputEl = $(ev.currentTarget).siblings(\"input.path\").get(0);\r\n    //   inputEl.value = \"butts\";\r\n    //   let picker = new FilePicker({\r\n    //     callback: (picked) => {\r\n    //       console.log(picked);\r\n    //       try {\r\n    //         inputEl.value = picked;\r\n    //       } catch (error) {\r\n    //         console.error(error);\r\n    //       }\r\n    //     },\r\n    //   });\r\n    //   picker.render(true);\r\n    // });\r\n  }\r\n\r\n  showImportReactionsDialog() {\r\n    let d = new Dialog({\r\n      title: \"Import Reactions\",\r\n      content: `\r\n            <p>Import a set of reactions from a JSON file? All current reactions will be overwritten.</p>\r\n            <input type=\"file\" id=\"importer\" name=\"reactionjson\" class=\"cgw importer\">\r\n            `,\r\n      buttons: {\r\n        one: {\r\n          icon: '<i class=\"fas fa-check\"></i>',\r\n          label: \"Import\",\r\n          callback: () => {\r\n            if (this.loadedJSON) {\r\n              this.saveReactionSetData(this.loadedJSON);\r\n            }\r\n          },\r\n        },\r\n        two: {\r\n          icon: '<i class=\"fas fa-times\"></i>',\r\n          label: \"Cancel\",\r\n          callback: () => {},\r\n        },\r\n      },\r\n      default: \"two\",\r\n      render: (html) => {\r\n        $(html)\r\n          .find(\"#importer\")\r\n          .on(\"change\", (ev) => {\r\n            console.log(\"Loaded file\");\r\n            let reader = new FileReader();\r\n            reader.onload = (readerEv) => {\r\n              try {\r\n                let loadedJSON = JSON.parse(readerEv.target.result);\r\n                if (this.validateLoadedJSON(loadedJSON)) {\r\n                  this.loadedJSON = loadedJSON;\r\n                }\r\n              } catch (error) {\r\n                console.log(\"Invalid JSON file\");\r\n                this.loadedJSON = false;\r\n              }\r\n            };\r\n            reader.readAsText(ev.target.files[0]);\r\n          });\r\n      },\r\n      close: (html) => {},\r\n    });\r\n    d.render(true);\r\n  }\r\n\r\n  async exportReactions() {\r\n    let data = await game.settings.get(moduleId, \"reactions\");\r\n    let dataJSON = JSON.stringify(data);\r\n    saveDataToFile(dataJSON, \"text/json\", \"reactions.json\");\r\n  }\r\n\r\n  async saveReactionSetData(data) {\r\n    // await game.settings.set(moduleId, 'reactions', data)\r\n  }\r\n\r\n  validateLoadedJSON(data) {\r\n    let isValid = true;\r\n    // make sure it's an array\r\n    if (Array.isArray(data)) {\r\n      // make sure nobody's slipping in the wrong number of reactions\r\n      if (data.length == 6) {\r\n        // check each row to make sure it has the right fields\r\n        for (const row of data) {\r\n          for (const key in ReactionOption) {\r\n            if (!(key in row)) {\r\n              isValid = false;\r\n              console.log(`Invalid JSON data in row ${row.id}: Missing ${key}`);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        isValid = false;\r\n      }\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  showLoadPresetDialog() {\r\n    let d = new Dialog({\r\n      title: \"Load Preset\",\r\n      content: `<p>Load the ${\r\n        reactionSets[this.selectedPreset].label\r\n      } preset? Any changes you've made to reactions will be lost.</p>`,\r\n      buttons: {\r\n        one: {\r\n          icon: '<i class=\"fas fa-check\"></i>',\r\n          label: \"Load Preset\",\r\n          callback: async () => {\r\n            await loadReactionsPreset(this.selectedPreset);\r\n            this.render(false);\r\n          },\r\n        },\r\n        two: {\r\n          icon: '<i class=\"fas fa-times\"></i>',\r\n          label: \"Cancel\",\r\n          callback: () => {},\r\n        },\r\n      },\r\n      default: \"two\",\r\n      render: (html) => {},\r\n      close: (html) => {},\r\n    });\r\n    d.render(true);\r\n  }\r\n}\r\n","import { id as moduleId } from \"../../../public/module.json\";\r\nimport * as htmlToImage from \"html-to-image\";\r\nimport { toPng, toJpeg, toBlob, toPixelData, toSvg } from \"html-to-image\";\r\nimport { handleReactionClick } from \"./events\";\r\nimport { initiateVibeCheck } from \"./socket\";\r\nimport { ReactionSetupMenu } from \"./ReactionSetupMenu\";\r\n\r\nexport function randomNumber(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\nexport function invlerp(x, y, a) {\r\n  return clamp((a - x) / (y - x));\r\n}\r\n\r\nexport function lerp(start, end, amt) {\r\n  return (1 - amt) * start + amt * end;\r\n}\r\n\r\nexport function clamp(a, min = 0, max = 1) {\r\n  return Math.min(max, Math.max(min, a));\r\n}\r\n\r\nexport function calcAngleDegrees(x, y) {\r\n  return (Math.atan2(y, x) * 180) / Math.PI;\r\n}\r\n\r\nexport async function getReactionAsImage(reactionObject) {\r\n  let reactionHTML = await getReactionHTML(reactionObject);\r\n  let $interface = $(\"#interface\");\r\n  // let interfaceEl = $interface.get(0)\r\n  // let $addedChild = $('<div id=\"interfaceShadow\"></div>')\r\n  // let addedChildEl = $addedChild.get(0)\r\n\r\n  // let shadow = addedChildEl.attachShadow({mode: 'open'})\r\n  let $appended = $(reactionHTML).appendTo($interface);\r\n  $appended.css({ zIndex: \"-10000\" });\r\n\r\n  // $(shadow).append(reactionHTML)\r\n  // let shadowEl = addedChildEl.shadowRoot\r\n  let iconPNGData;\r\n  try {\r\n    iconPNGData = await htmlToImage.toPng($appended.get(0));\r\n  } catch (error) {\r\n    console.error(\"oops, something went wrong!\", error);\r\n  }\r\n\r\n  $appended.remove();\r\n  return iconPNGData;\r\n}\r\n\r\nexport async function getReactionObject(reactionId) {\r\n  let reactions = (await game.settings.get(moduleId, \"reactions\")) as [];\r\n  let reaction = reactions.find((r) => r.id == reactionId);\r\n  return reaction;\r\n}\r\n\r\nexport function getReactionHTML(reaction) {\r\n  let htmlString = \"\";\r\n  if (reaction.type == \"fontawesome\") {\r\n    htmlString = `\r\n          <i class=\"${reaction.style} fa-${reaction.icon} cgw-reaction\" \r\n              data-id=${reaction.id}\r\n              style=\"\r\n                  color: ${reaction.primaryColor}; \r\n                  --fa-primary-color: ${reaction.primaryColor};\r\n                  --fa-secondary-color: ${reaction.secondaryColor};\r\n                  font-size: ${reaction.fontSize}px;\r\n              \">\r\n          </i>`;\r\n  } else if (\r\n    reaction.type == \"filepicker\" &&\r\n    [\"png\", \"jpg\", \"jpeg\", \"webp\", \"avif\", \"svg\", \".gif\"].includes(\r\n      reaction.path?.split(\".\").pop()\r\n    )\r\n  ) {\r\n    htmlString = `\r\n          <img\r\n            class=\"cgw-reaction\" \r\n            data-id=${reaction.id}\r\n            src=\"${reaction.path}\"\r\n            style=\"\r\n              max-width: ${reaction.maxWidth}px;\r\n              max-height: ${reaction.maxHeight}px;\r\n            \"\r\n          />`;\r\n  } else if (\r\n    reaction.type == \"filepicker\" &&\r\n    [\"webm\", \"mp4\", \"m4v\"].includes(reaction.path?.split(\".\").pop())\r\n  ) {\r\n    htmlString = `\r\n          <video class=\"cgw-reaction\" data-id=${reaction.id} autoplay loop muted\r\n            style=\"\r\n              max-width: ${reaction.maxWidth}px;\r\n              max-height: ${reaction.maxHeight}px;\r\n            \"\r\n          >\r\n            <source src=\"${reaction.path}\" \r\n            type=\"video/${reaction.path?.split(\".\").pop()}\"\r\n            />\r\n          </video>\r\n          `;\r\n  }\r\n  return htmlString;\r\n}\r\n\r\nexport async function saveAllReactionPNGs(force = false) {\r\n  if (force) {\r\n    ui.notifications.info(\r\n      `Generating icons for reaction macros. This will take a moment.`,\r\n      { permanent: false }\r\n    );\r\n  }\r\n  let reactions = (await game.settings.get(moduleId, \"reactions\")) as [];\r\n  for (const reaction of reactions) {\r\n    await generateReactionPNG(reaction, force);\r\n  }\r\n}\r\n\r\nexport async function generateReactionPNG(reactionObject, force) {\r\n  let worldPath = `worlds/${game.world.id}`;\r\n  let iconsPath = `worlds/${game.world.id}/reactionIcons`;\r\n  let world_dirs_list = await FilePicker.browse(\"data\", worldPath).then(\r\n    (picker) => picker.dirs\r\n  );\r\n  if (!world_dirs_list.includes(iconsPath)) {\r\n    console.log(\"Reactions icon folder doesn't exist. Creating it.\");\r\n    await FilePicker.createDirectory(\"data\", iconsPath);\r\n  }\r\n  // let macros_dirs_list = await FilePicker.browse(\"data\", macrosPath).then(picker => picker.dirs)\r\n  // if (!macros_dirs_list.includes(macrosPath + \"/reactions\")){\r\n  //     console.log(\"Reactions macro folder doesn't exist. Creating it.\");\r\n  //     await FilePicker.createDirectory('data', macrosPath + '/reactions')\r\n  // }\r\n\r\n  let imagesPath = iconsPath;\r\n  let files_list = await FilePicker.browse(\"data\", iconsPath).then(\r\n    (picker) => picker.files\r\n  );\r\n  if (\r\n    !files_list.includes(iconsPath + `/reaction-${reactionObject.id}.png`) ||\r\n    force\r\n  ) {\r\n    console.log(\"Image does not yet exist or force flag was set. Generating.\");\r\n    let imageDataURL = await getReactionAsImage(reactionObject);\r\n    let uploadResponse = await ImageHelper.uploadBase64(\r\n      imageDataURL,\r\n      `reaction-${reactionObject.id}.png`,\r\n      imagesPath\r\n    );\r\n    return uploadResponse.path;\r\n  } else {\r\n    console.log(\"Image already exists. Refusing to regenerate.\");\r\n    return;\r\n  }\r\n\r\n  // try {\r\n  // } catch (error) {\r\n  //     console.log(\"Folder exists. Using it!\")\r\n  // }\r\n  // folderPath += \"/reactions\"\r\n}\r\n\r\nexport async function getReactionPNGUrl(reactionId) {\r\n  return `worlds/${game.world.id}/reactionIcons/reaction-${reactionId}.png`;\r\n}\r\n\r\nexport async function renderChatButtonBar() {\r\n  let $chatForm = $(\"#chat-form\");\r\n  let $cgwContainer = $(\".cgwcontainer\");\r\n  $cgwContainer.remove();\r\n  let templatePath = `modules/${moduleId}/templates/parts/ReactionButtonBar.hbs`;\r\n  let templateData = {\r\n    reactions: (await game.settings.get(moduleId, \"reactions\")) as [],\r\n    isGM: game.user.isGM,\r\n  };\r\n\r\n  renderTemplate(templatePath, templateData)\r\n    .then((c) => {\r\n      if (c.length > 0) {\r\n        let $content = $(c);\r\n        $chatForm.after($content);\r\n\r\n        $content.find(\".reactionbar button\").on(\"click\", (event) => {\r\n          event.preventDefault();\r\n          let $self = $(event.currentTarget);\r\n          let dataset = event.currentTarget.dataset;\r\n          let id = dataset.id;\r\n          handleReactionClick(id);\r\n        });\r\n\r\n        $content.find(\".reactionbar button\").on(\"dragstart\", (event) => {\r\n          event.originalEvent.dataTransfer.setData(\r\n            \"text/plain\",\r\n            JSON.stringify({\r\n              id: event.currentTarget.dataset.id,\r\n              type: \"reaction\",\r\n            })\r\n          );\r\n        });\r\n\r\n        $content.find(\"button.vibecheck\").on(\"click\", (event) => {\r\n          initiateVibeCheck();\r\n        });\r\n\r\n        $content.find(\"button.cgwSettings\").on(\"click\", (event) => {\r\n          let reactionSetup = new ReactionSetupMenu();\r\n          reactionSetup.render(true);\r\n        });\r\n      }\r\n    })\r\n    .catch((e) => console.error(e));\r\n}\r\n// export const debouncedReload = foundry.utils.debounce(() => window.location.reload(), 500);\r\n","import {\r\n  gsap,\r\n  CustomWiggle,\r\n  CustomEase,\r\n  Physics2DPlugin,\r\n  Elastic,\r\n} from \"/scripts/greensock/esm/all.js\";\r\nimport { randomNumber, calcAngleDegrees, invlerp, lerp } from \"./utils\";\r\n\r\nexport function animationInit() {\r\n  gsap.registerPlugin(CustomEase, CustomWiggle, Physics2DPlugin);\r\n  CustomWiggle.create(\"wiggle\", {\r\n    wiggles: 5,\r\n    type: \"uniform\",\r\n    duration: 10,\r\n  });\r\n\r\n  CustomWiggle.create(\"shake\", {\r\n    wiggles: 8,\r\n    type: \"easeOut\",\r\n    duration: 1,\r\n  });\r\n\r\n  CustomWiggle.create(\"flutter\", {\r\n    wiggles: 6,\r\n    type: \"uniform\",\r\n    duration: 30,\r\n  });\r\n\r\n  registerEffects();\r\n}\r\n\r\nfunction registerEffects() {\r\n  let defaults = {\r\n    edgePaddingPercentage: 20,\r\n    offscreen: -50,\r\n  };\r\n\r\n  gsap.registerEffect({\r\n    name: \"fadeAndRemove\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline();\r\n      tl.to(targets, {\r\n        duration: config.duration,\r\n        opacity: 0,\r\n      }).call(() => {\r\n        $(targets).remove();\r\n      });\r\n      return tl;\r\n    },\r\n    defaults: { duration: 2 },\r\n    extendTimeline: true,\r\n  });\r\n\r\n  gsap.registerEffect({\r\n    name: \"physics-floatUp\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline({\r\n        defaults: {\r\n          duration: 5,\r\n        },\r\n      });\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let edgePaddingPixels =\r\n        $fullScreen.width() * (defaults.edgePaddingPercentage / 100);\r\n      let xStart = edgePaddingPixels;\r\n      let xEnd = $fullScreen.width() - edgePaddingPixels;\r\n      let xFrom = randomNumber(xStart, xEnd);\r\n\r\n      let yEnd = $fullScreen.height();\r\n\r\n      gsap.set(targets, {\r\n        left: xFrom,\r\n        bottom: defaults.offscreen,\r\n      });\r\n\r\n      let randomLife = randomNumber(1, 5);\r\n\r\n      tl.to(\r\n        targets,\r\n        {\r\n          x: randomNumber(-40, 40),\r\n          scale: randomNumber(0.95, 1.25),\r\n          rotation: randomNumber(-10, 10),\r\n          duration: 10,\r\n          ease: \"wiggle\",\r\n        },\r\n        0\r\n      );\r\n      tl.to(\r\n        targets,\r\n        {\r\n          duration: 30,\r\n          physics2D: {\r\n            velocity: 200,\r\n            angle: \"random(250, 290)\",\r\n            // angle: ,\r\n            gravity: -100,\r\n          },\r\n        },\r\n        0\r\n      ).fadeAndRemove(targets, {}, randomLife);\r\n      return tl;\r\n    },\r\n  });\r\n\r\n  gsap.registerEffect({\r\n    name: \"floatUp\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline({\r\n        defaults: {\r\n          duration: 5,\r\n        },\r\n      });\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let edgePaddingPixels =\r\n        $fullScreen.width() * (defaults.edgePaddingPercentage / 100);\r\n      let xStart = edgePaddingPixels;\r\n      let xEnd = $fullScreen.width() - edgePaddingPixels;\r\n      let xFrom = randomNumber(xStart, xEnd);\r\n\r\n      let yEnd = $fullScreen.height();\r\n\r\n      gsap.set(targets, {\r\n        left: xFrom,\r\n        bottom: defaults.offscreen,\r\n      });\r\n\r\n      let randomLife = randomNumber(1, 5);\r\n\r\n      tl.to(\r\n        targets,\r\n        {\r\n          x: randomNumber(-40, 40),\r\n          scale: randomNumber(0.95, 1.25),\r\n          rotation: randomNumber(-10, 10),\r\n          duration: 10,\r\n          ease: \"wiggle\",\r\n        },\r\n        0\r\n      )\r\n        .to(\r\n          targets,\r\n          {\r\n            y: yEnd * -1,\r\n            ease: \"easeOut\",\r\n            duration: 8,\r\n          },\r\n          0\r\n        )\r\n        .fadeAndRemove(targets, {}, randomLife);\r\n      return tl;\r\n    },\r\n  });\r\n\r\n  gsap.registerEffect({\r\n    name: \"drop\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline({\r\n        defaults: {\r\n          duration: 5,\r\n        },\r\n      });\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let edgePaddingPixels =\r\n        $fullScreen.width() * (defaults.edgePaddingPercentage / 100);\r\n      let xStart = edgePaddingPixels;\r\n      let xEnd = $fullScreen.width() - edgePaddingPixels;\r\n      let xFrom = randomNumber(xStart, xEnd);\r\n\r\n      gsap.set(targets, {\r\n        left: xFrom,\r\n        top: defaults.offscreen * -1,\r\n      });\r\n\r\n      tl.to(\r\n        targets,\r\n        {\r\n          top: $fullScreen.height() + defaults.offscreen * -1,\r\n          ease: \"none\",\r\n          duration: 1,\r\n        },\r\n        0\r\n      ).fadeAndRemove(targets);\r\n\r\n      return tl;\r\n    },\r\n  });\r\n\r\n  gsap.registerEffect({\r\n    name: \"physics-drop\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline({\r\n        defaults: {\r\n          duration: 5,\r\n        },\r\n      });\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let edgePaddingPixels =\r\n        $fullScreen.width() * (defaults.edgePaddingPercentage / 100);\r\n      let xStart = edgePaddingPixels;\r\n      let xEnd = $fullScreen.width() - edgePaddingPixels;\r\n      let xFrom = randomNumber(xStart, xEnd);\r\n\r\n      gsap.set(targets, {\r\n        left: xFrom,\r\n        top: defaults.offscreen,\r\n      });\r\n\r\n      tl.to(\r\n        targets,\r\n        {\r\n          duration: 30,\r\n          physics2D: {\r\n            velocity: 0,\r\n            // velocity: 600,\r\n            // angle: \"random(250, 290)\",\r\n            angle: 0,\r\n            gravity: 500,\r\n          },\r\n        },\r\n        0\r\n      ).fadeAndRemove(targets);\r\n\r\n      return tl;\r\n    },\r\n  });\r\n\r\n  gsap.registerEffect({\r\n    name: \"physics-flutterDown\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline();\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let edgePaddingPixels =\r\n        $fullScreen.width() * (defaults.edgePaddingPercentage / 100);\r\n      let xStart = edgePaddingPixels;\r\n      let xEnd = $fullScreen.width() - edgePaddingPixels;\r\n      let xFrom = randomNumber(xStart, xEnd);\r\n\r\n      //wtf\r\n      tl.fromTo(\r\n        targets,\r\n        {\r\n          left: xFrom,\r\n          // top: 300,\r\n          top: defaults.offscreen,\r\n          transformOrigin: \"0 -500px\",\r\n          rotation: \"random(0, 20)\",\r\n          scaleX: \"random([-1, 1])\",\r\n        },\r\n        {\r\n          rotation: \"random([-60, -30, 30, 60])\",\r\n          ease: \"flutter\",\r\n          duration: 30,\r\n        },\r\n        0\r\n      );\r\n\r\n      tl.to(\r\n        targets,\r\n        {\r\n          duration: 30,\r\n          top: $fullScreen.height() + 100,\r\n          // physics2D: {\r\n          //   velocity: 0,\r\n          //   angle: 0,\r\n          //   gravity: 50,\r\n          // },\r\n        },\r\n        0\r\n      ).fadeAndRemove(targets);\r\n    },\r\n  });\r\n  gsap.registerEffect({\r\n    name: \"physics-toss\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline();\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let edgePaddingPixels =\r\n        $fullScreen.width() * (defaults.edgePaddingPercentage / 100);\r\n      let xStart = edgePaddingPixels;\r\n      let xEnd = $fullScreen.width() - edgePaddingPixels;\r\n      let xFrom = randomNumber(xStart, xEnd);\r\n\r\n      let center = { x: $fullScreen.width() / 2, y: $fullScreen.height() / 2 };\r\n      let angleToCenter =\r\n        calcAngleDegrees(xFrom - center.x, $fullScreen.height()) + 180;\r\n      // let directionRatio = lerp(-1, 1, invlerp(180, 360, angleToCenter))\r\n      let directionRatio = gsap.utils.mapRange(180, 360, -1, 1, angleToCenter);\r\n      directionRatio = directionRatio > 0 ? 1 : -1;\r\n      let gravity = 600;\r\n      let velocityBase = $fullScreen.height() * 0.6 + 320;\r\n      let velocity = randomNumber(velocityBase * 0.85, velocityBase * 1.15);\r\n\r\n      gsap.set(targets, {\r\n        left: xFrom,\r\n        bottom: defaults.offscreen,\r\n      });\r\n\r\n      if (config.reaction.directional) {\r\n        gsap.set(targets, {\r\n          scaleX: directionRatio,\r\n        });\r\n      }\r\n\r\n      tl.to(\r\n        targets,\r\n        {\r\n          rotation: 360 * directionRatio,\r\n          duration: 1,\r\n          repeat: -1,\r\n          ease: \"none\",\r\n        },\r\n        0\r\n      )\r\n        .to(\r\n          targets,\r\n          {\r\n            duration: 30,\r\n            physics2D: {\r\n              velocity: velocity,\r\n              // velocity: 600,\r\n              // angle: \"random(250, 290)\",\r\n              angle: angleToCenter + randomNumber(-10, 10),\r\n              gravity: gravity,\r\n            },\r\n          },\r\n          0\r\n        )\r\n        .fadeAndRemove(targets);\r\n\r\n      return tl;\r\n    },\r\n  });\r\n\r\n  gsap.registerEffect({\r\n    name: \"shutdown\",\r\n    effect: (targets, config) => {\r\n      let tl = gsap.timeline();\r\n\r\n      let $fullScreen = config.parent;\r\n\r\n      let $modalBG = $('<div class=\"cgw modal\"></div>').appendTo($fullScreen);\r\n      gsap.set($modalBG, {\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        backgroundColor: config.reaction.secondaryColor,\r\n        backdropFilter: \"blur(5px)\",\r\n        position: \"absolute\",\r\n        zIndex: 1000,\r\n      });\r\n\r\n      gsap.set(targets, {\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        xPercent: -50,\r\n        yPercent: -50,\r\n        fontSize: \"50vh\",\r\n      });\r\n\r\n      game.togglePause(true);\r\n      tl.to(targets, {\r\n        rotation: 5,\r\n        // duration: 10,\r\n        // repeat: -1,\r\n        ease: \"shake\",\r\n      })\r\n        .fadeAndRemove(targets, { duration: 1 }, 4)\r\n        .fadeAndRemove($modalBG, { duration: 1 }, 4);\r\n\r\n      return tl;\r\n    },\r\n  });\r\n}\r\n","import { id as moduleId } from \"../../../public/module.json\";\r\nimport { getReactionHTML } from \"./utils\";\r\n\r\nexport async function registerHelpers() {\r\n  Handlebars.registerHelper(\"reactionPreview\", (reaction) => {\r\n    let html = getReactionHTML(reaction);\r\n    return new Handlebars.SafeString(html);\r\n  });\r\n\r\n  Handlebars.registerHelper(\"last_x\", (array, count) => {\r\n    array = array.slice(-count);\r\n    return array;\r\n  });\r\n\r\n  Handlebars.registerHelper(\"add\", (input, add) => {\r\n    return parseInt(input) + parseInt(add);\r\n  });\r\n\r\n  Handlebars.registerHelper(\"eq\", (arg1, arg2) => {\r\n    return arg1 == arg2;\r\n  });\r\n}\r\n\r\nexport function loadPartials() {\r\n  let partialsList = [\r\n    `modules/${moduleId}/templates/parts/ReactionRow.hbs`,\r\n    `modules/${moduleId}/templates/parts/ReactionButtonBar.hbs`,\r\n  ];\r\n  loadTemplates(partialsList);\r\n}\r\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const { MAX_LENGTH } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceTilde(c, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceCaret(c, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((c) => {\n    return replaceXRange(c, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false,\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = [new Comparator('>=0.0.0-0')]\n    } else {\n      sub = [new Comparator('>=0.0.0')]\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = [new Comparator('>=0.0.0')]\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","import {\r\n  id as moduleId,\r\n  version as installedVersion,\r\n} from \"../../../public/module.json\";\r\nimport * as semver from \"semver\";\r\n\r\nexport default async function runMigrationChecks() {\r\n  // don't do anything if we're running a local dev version without a real version number filled in\r\n  if (installedVersion == \"#{VERSION}#\") {\r\n    console.log(\r\n      \"No version number available. Skipping migration. Things might run wonky.\"\r\n    );\r\n    return;\r\n  } else {\r\n    let oldVersion;\r\n    try {\r\n      oldVersion = await game.settings.get(moduleId, \"moduleVersion\");\r\n    } catch (error) {\r\n      console.log(\r\n        \"moduleVersion setting not registered somehow. Must be pre-1.0.0a4\"\r\n      );\r\n      oldVersion = \"1.0.0-alpha4\";\r\n    }\r\n\r\n    console.log(\"---- Running migration checks ----\");\r\n\r\n    if (semver.lt(oldVersion, \"1.0.0-alpha5\")) {\r\n      console.log(\"Pre-1.0.0-alpha5. Adding updated reaction fields\");\r\n      addTypeToReactions(game.settings.get(moduleId, \"reactions\"));\r\n    } else {\r\n      console.log(\"No migrations needed.\");\r\n    }\r\n\r\n    game.settings.set(moduleId, \"moduleVersion\", installedVersion);\r\n  }\r\n}\r\n\r\nasync function addTypeToReactions(reactions) {\r\n  let newReactions = reactions.map((reaction) => {\r\n    if (!reaction.type) {\r\n      reaction.type = \"fontawesome\";\r\n    }\r\n    if (!reaction.path) {\r\n      reaction.path = \"\";\r\n    }\r\n    if (!reaction.maxWidth) {\r\n      reaction.maxWidth = 200;\r\n    }\r\n    if (!reaction.maxHeight) {\r\n      reaction.maxHeight = 200;\r\n    }\r\n    if (!reaction.fontSize) {\r\n      reaction.fontSize = 48;\r\n    }\r\n    return reaction;\r\n  });\r\n  game.settings.set(moduleId, \"reactions\", newReactions);\r\n}\r\n","import { registerSettings } from \"./settings\";\r\nimport { id as moduleId } from \"../../../public/module.json\";\r\nimport { registerSocketEvents, sendReactionToSocket } from \"./socket\";\r\nimport { loadPartials, registerHelpers } from \"./handlebars\";\r\nimport {\r\n  getReactionObject,\r\n  getReactionPNGUrl,\r\n  saveAllReactionPNGs,\r\n  renderChatButtonBar,\r\n} from \"./utils\";\r\n\r\nimport { ReactionSetupMenu } from \"./ReactionSetupMenu\";\r\nimport runMigrationChecks from \"./migrations\";\r\n\r\nexport default function registerHooks() {\r\n  Hooks.once(\"init\", async function () {\r\n    console.log(\"CrowdGoesWild Init\");\r\n    registerSocketEvents();\r\n    registerSettings();\r\n    loadPartials();\r\n    registerHelpers();\r\n    // CONFIG.debug.hooks = true\r\n  });\r\n\r\n  Hooks.once(\"ready\", async function () {\r\n    if (game.user.isGM) {\r\n      saveAllReactionPNGs();\r\n      runMigrationChecks();\r\n    }\r\n    exposeForMacros();\r\n    // resetDefaultReactions()\r\n    // let rm = new ReactionSetupMenu({}).render(true);\r\n  });\r\n\r\n  Hooks.on(\"hotbarDrop\", async function (bar, data, slot) {\r\n    if (data.type == \"reaction\") {\r\n      let reactionId = data.id;\r\n      let droppedReaction = await getReactionObject(reactionId);\r\n      // let reactions = await game.settings.get(moduleId, 'reactions') as []\r\n      // let droppedReaction = reactions.find(r => r.id == args[1].id)\r\n      let newMacro = await Macro.create({\r\n        name: `Reaction - ${droppedReaction.title}`,\r\n        type: \"script\",\r\n        scope: \"global\",\r\n        img: await getReactionPNGUrl(reactionId),\r\n        command: `game.modules.get('crowdgoeswild').api.sendReaction(${reactionId})`,\r\n      });\r\n      game.user.assignHotbarMacro(newMacro, slot);\r\n    }\r\n  });\r\n\r\n  Hooks.on(\"updateSetting\", async function (oldSetting, newData, opts) {\r\n    if (oldSetting.key === \"crowdgoeswild.reactions\") {\r\n      renderChatButtonBar();\r\n    }\r\n  });\r\n\r\n  Hooks.on(\"renderSidebarTab\", async (app, html, data) => {\r\n    console.log(\"Rendered sidebar tab\");\r\n    if (app.tabName !== \"chat\") return;\r\n    renderChatButtonBar();\r\n\r\n    //Stress testing. Don't turn this on. Probably.\r\n    // setTimeout(()=>{\r\n    //     for (let index = 0; index < 1000; index++) {\r\n    //         setTimeout(()=>sendReactionToSocket({icon: \"heart\", color: \"#eb34b1\", effect: \"floatUp\"}), randomNumber(0, 100))\r\n    //     }\r\n    // }, 4000)\r\n  });\r\n\r\n  // Hooks.on(\"getSceneControlButtons\", controls => {\r\n  //     console.log(controls)\r\n  //     controls = addButtons(controls)\r\n  // });\r\n}\r\n\r\nfunction exposeForMacros() {\r\n  game.modules.get(moduleId).api = {\r\n    sendReaction(reactionId) {\r\n      sendReactionToSocket(reactionId);\r\n    },\r\n  };\r\n}\r\n","import \"../../styles/crowdgoeswild.scss\"\r\nimport { animationInit } from \"./animation\";\r\nimport registerHooks from \"./hooks\"\r\n\r\ndeclare global {\r\n    interface LenientGlobalVariableTypes {\r\n        game: never; // the type doesn't matter\r\n    }\r\n}\r\n\r\nconst referenceToGame: Game = game; // ok! :)\r\n\r\nregisterHooks()\r\nanimationInit()\r\n\r\n// buttons for reactions\r\n// send reaction to other clients\r\n// display reaction from all clients\r\n"],"names":["process","dataURL","id","cache","moduleId","htmlToImage.toPng","MAX_LENGTH","MAX_SAFE_INTEGER","constants","debug","MAX_SAFE_COMPONENT_LENGTH","require$$0","require$$1","re","t","parseOptions","compareIdentifiers","identifiers","require$$2","require$$3","require$$4","version","semver","SemVer","parse","valid","clean","inc","compare","eq","diff","major","minor","patch","prerelease","rcompare","compareLoose","compareBuild","sort","rsort","gt","lt","neq","gte","lte","require$$5","cmp","coerce","Yallist","Range","range","Comparator","ANY","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","comparator","validRange","require$$6","require$$7","outside","gtr","ltr","intersects","subset","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","require$$31","require$$32","require$$33","require$$34","require$$35","require$$36","require$$37","require$$38","require$$39","require$$40","semver.lt","installedVersion","opts"],"mappings":"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"}